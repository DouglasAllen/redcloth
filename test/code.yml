---
name: inline code
in: 'This is an empty dictionary: @{}@'
out: '<p>This is an empty dictionary: <code>{}</code></p>'
---
name: inline code escapement
in: 'Please type @cat file.txt > otherfile.txt@ at the prompt.'
out: '<p>Please type <code>cat file.txt &gt; otherfile.txt</code> at the prompt.</p>'
---
name: escaping in blockcode
in: 'bc. This is within a block of code, so < and > should be entities.  You can talk about a <p> tag if you wish and it will be properly escaped.'
out: '<pre><code>This is within a block of code, so &lt; and &gt; should be entities.  You can talk about a &lt;p&gt; tag if you wish and it will be properly escaped.</code></pre>'
---
name: escaping in normal text
in: |-
  This is a regular paragraph.  AT&T. &pound;38 > $38.
out: |-
  <p>This is a regular paragraph.  AT&amp;T. &pound;38 &gt; $38.</p>
---
name: preservation of existing entities
in: "Math fact: 3 &lt; 5 &amp; 5 &gt; 3 but &pound;6 &#62; $6.
"
out: "<p>Math fact: 3 &lt; 5 &amp; 5 &gt; 3 but &pound;6 &#62; $6.</p>"
---
name: escaping of existing entities in blockcode
in: "bc. Math fact: 3 &lt; 5 &amp; 5 &gt; 3 but &pound;5 &#62; $5.
"
out: "<pre><code>Math fact: 3 &amp;lt; 5 &amp;amp; 5 &amp;gt; 3 but &amp;pound;5 &amp;#62; $5.</code></pre>"
---
name: nested pre tags
in: |-
  <pre>
  <code>
    Properly escaped here.
  
    <pre>
      a = 1
    </pre>
  
    Still in the pre.
  </code>
  </pre>
out: |-  
  <pre>
  <code>
    Properly escaped here.
  
    &lt;pre&gt;
      a = 1
    &lt;/pre&gt;
  
    Still in the pre.
  </code>
  </pre>
---
name: no formatting within pre
in: |-
  <pre>
  # *test*
  __not italics__
  </pre>
out: |-
  <pre>
  # *test*
  __not italics__
  </pre>
---
name: no formatting within blockcode
in: |-
  bc. __not italics__
out: |-
  <pre><code>
  __not italics__
  </code></pre>
---
name: double-equals means notextile
in: |-
  p. Regular paragraph

  ==
  Escaped portion -- will not be formatted by Textile at all
  ==

  p. Back to normal.
out: |-
  <p>Regular paragraph</p>

  <p>
  Escaped portion -- will not be formatted by Textile at all
  </p>

  <p>Back to normal.</p>
---
name: notextile tags
in: |-
  <notextile>
  # *test*
  </notextile>
out: |-
  # *test*
---
in: '*this <span></span> is strong*'
out: '<p><strong>this <span></span> is strong</strong></p>'
---
in: '*this <span>test</span> is strong*'
out: '<p><strong>this <span>test</span> is strong</strong></p>'
---
name: code in list items
in: |-
  * @foo@
  * @bar@
  * and @x@ is also.

out: |-
  <ul>
  	<li><code>foo</code></li>
  	<li><code>bar</code></li>
  	<li>and <code>x</code> is also.</li>
  </ul>
---
name: extended block code
in: |-
  If you have a line or two of code or HTML to embed, use extended block code like so:

  bc.. ./foo.pl%
  <p>foo outputs an HTML paragraph</p>
  
  <p>block of code keeps going until a different block signature is encountered</p>

  p. And then go back with a normal paragraph.
out: |-
  <p>If you have a line or two of code or HTML to embed, use extended block code like so:</p>

  <pre><code>
  ./foo.pl%
  &lt;p&gt;foo outputs an HTML paragraph&lt;/p&gt;

  &lt;p&gt;block of code keeps going until a different block signature is encountered&lt;/p&gt;
  </code></pre>
  
  <p>And then go back with a normal paragraph.</p>
---
name: no breaks between HTML elements
in: |-
  <ul>
    <li>You can put HTML code</li>
    <li>right in Textile</li>
    <li>and it will not put a break
    between HTML elements</li>
    <li>or wrap it in a p tag</li>
  </ul>
out: |-
  <ul>
    <li>You can put HTML code</li>
    <li>right in Textile</li>
    <li>and it will not put a break
    between HTML elements</li>
    <li>or wrap it in a p tag</li>
  </ul>
---
name: mixing of textile and HTML
in: |-
  <img src="test.jpg" />
  
  Regular paragraph.
  
  <div class="test">
    This is one paragraph.
  
    This is another.
  
    !an/image.jpg!
        
  </div>
  
  Another paragraph.
out: |-
  <img src="test.jpg" />
  
  <p>Regular paragraph.</p>
  
  <div class="test">
  <p>This is one paragraph.</p>
  
  <p>This is another.</p>
  
  <p><img src="an/image.jpg" alt="" /></p>
  </div>
  
  <p>Another paragraph.</p>